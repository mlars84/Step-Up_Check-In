googleAuthApp.controller("AuthController",["$http","AuthFactory","$window",function($http,AuthFactory,$window){var self=this,authFactory=AuthFactory;self.loggedIn=authFactory.checkLoggedIn(),authFactory.isLoggedIn().then(function(response){response.data.status?(self.displayLogout=!0,authFactory.setLoggedIn(!0),self.username=response.data,self.useremail=response.data.email,console.log(response.data),console.log(response.data.email),checkEmail(response.data.email)):(self.displayLogout=!1,authFactory.setLoggedIn(!1))},function(){_this.message.text="Unable to properly authenticate user",_this.message.type="error"}),checkEmail=function(email){return console.log("in check email route on client"),console.log("checking this email: ",email),$http({method:"GET",url:"/private/checkadmin/"+email}).then(function(response){if(console.log("user info --\x3e",response),console.log("email checked!!!"),1===response.data.length&&(console.log("successful login, welcome admin"),admin=!0,console.log(admin),window.location="/#/admin-intern"),0===response.data.length)return console.log("You're not an admin, and you will be logged out"),console.log("in check email route on client for intern"),console.log("checking this email: ",email),$http({method:"GET",url:"/private/checkintern/"+email}).then(function(response){console.log("user info --\x3e",response),console.log("email checked!!!"),1===response.data.length&&(console.log("successful login, welcome intern"),intern=!0,window.location="/#/feedbackform"),0===response.data.length&&(console.log("You're not an intern or an admin, and you will be logged out"),authFactory.logout().then(function(response){authFactory.setLoggedIn(!1),self.username="",$window.location.href="/"},function(response){_this.message.text="Unable to logout",_this.message.type="error"}))})})}}]);